<?php

defined('BASEPATH') OR exit('No direct script access allowed');

class Home_test extends MY_Controller {

    function __construct() {
        parent::__construct();

        // $this->user_id = isset($this->session->get_userdata()['user_details'][0]->id)?$this->session->get_userdata()['user_details'][0]->users_id:'1';
    }

    public function wpOrder() {
       // die("stop");
        
        $super_id = 148;
// '23384', '22729', '23107', '23046', '23042', '23028', '22943', '22949', '22952', '22973', '22978', '22865', '22866', '22912', '22916', '22923', '22906', '22823', '22827', '22831', '22835', '22846', '22849', '22850', '22826', '22853', '22874', '22810', '22726', '22730', '22738', '22744', '22746', '22753', '22756', '22762', '22769', '22770', '22778', '22787', '22791', '22793', '22794', '22697', '22706', '22708', '22612', '22622', '22623', '22631', '22635', '22639', '22657', '22667', '22670', '22671', '22675', '22679', '22686', '22688', '22692', '22606', '22575'
        $awbArr = array('22952','22866','22943','22865','23046','22949','23028','23107','22978');
        $this->db->where("super_id", $super_id);
        $this->db->where("type", 'W');
        $this->db->where_in("booking_id", $awbArr);
        $query2 = $this->db->select('*')->get('api_log');
        $status_array = $query2->result_array();
    // echo "<pre>";
    //    print_r($status_array);
    //     die;
        foreach ($status_array as $data) {
            $orderArray = json_decode($data['details']);
            $this->SendRequest($orderArray);
        }
       
    }
    
     private function SendRequest($dArray = array()) {

       
            $url = 'https://api.diggipacks.com/API/createOrder';
       

        $dataJson = json_encode($dArray);
        $headers = array(
            "Content-type: application/json",
        );

        $ch = curl_init();
        curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
        curl_setopt($ch, CURLOPT_POSTFIELDS, $dataJson);

        return $response = curl_exec($ch);

        // echo '<pre>';
        // echo $response;
    }

    public function export() {
        echo phpinfo();
        die;
        ini_set('memory_limit', '1024M');
        ini_set('max_execution_time', 600); //increase max_execution_time to 10 min if data set is very large
        //create a file
        $filename = "export_" . date("Y.m.d") . ".csv";
        $csv_file = fopen('php://output', 'w');
        header('Content-Encoding: UTF-8');
        header('Content-Type: application/vnd.ms-excel');
        header('Content-Disposition: attachment; filename="' . $filename . '"');

        $sql = "SELECT
`shipment_fm`.`id`,
 `shipment_fm`.`service_id`,
 `shipment_fm`.`booking_id`,
 `shipment_fm`.`slip_no`,
 `diamention_fm`.`sku`,
 `status_main_cat_fm`.`main_status`,
 `diamention_fm`.`piece`,
 `diamention_fm`.`wieght` as `wt`,
 `diamention_fm`.`description`,
 `diamention_fm`.`cod`,
 `customer`.`name`,
 `customer`.`company`,
 `customer`.`seller_id`,
 `customer`.`uniqueid`,
 `shipment_fm`.`entrydate`,
(select city from country where country.id=shipment_fm.origin) AS origin,
  (select city from country where country.id=shipment_fm.destination) AS destination,
 `shipment_fm`.`reciever_name`,
 `shipment_fm`.`reciever_address`,
 `shipment_fm`.`reciever_phone`,
 `shipment_fm`.`sender_name`,
 `shipment_fm`.`sender_address`,
 `shipment_fm`.`sender_phone`,
 `shipment_fm`.`order_type`,
 `shipment_fm`.`sender_email`,
 `shipment_fm`.`mode`,
 `shipment_fm`.`total_cod_amt`,
 `shipment_fm`.`weight`,
 `shipment_fm`.`pieces`,
 `shipment_fm`.`cust_id`,
 `shipment_fm`.`shippers_ac_no`,
 `shipment_fm`.`frwd_company_awb`,
 `diamention_fm`.`deducted_shelve`
 FROM `shipment_fm` JOIN `status_main_cat_fm` ON `status_main_cat_fm`.`id` = `shipment_fm`.`delivered` JOIN `diamention_fm` ON `diamention_fm`.`slip_no` = `shipment_fm`.`slip_no` JOIN `customer` ON `customer`.`id` = `shipment_fm`.`cust_id` WHERE `shipment_fm`.`fulfillment` = 'Y' AND `shipment_fm`.`deleted` = 'N' AND `shipment_fm`.`backorder` = '0' AND `shipment_fm`.`super_id` = '54' AND `diamention_fm`.`super_id` = '54'";
        $query = $this->db->query($sql); // This is your sql query to pull that data you need exported
        //or

        $results = $query->result_array();

        // The column headings of your .csv file
        $header_row = array("Ref. No.", "AWB NO", "Origin", "Destination", "Receiver Name", "Receiver Address", "Receiver Phone", "Status", "Seller", "Entry Date", "SKU", "Qty", "COD'", "Weight", "Deducted Shelve NO");
        fputcsv($csv_file, $header_row, ',', '"');

        // Each iteration of this while loop will be a row in your .csv file where each field corresponds to the heading of the column
        foreach ($results as $result) {
            // Array indexes correspond to the field names in your db table(s)
            $row = array(
                $result['booking_id'],
                $result['slip_no'],
                $result['origin'],
                $result['destination'],
                $result['reciever_name'],
                $result['sender_address'],
                $result['reciever_phone'],
                $result['main_status'],
                $result['company'],
                $result['entrydate'],
                $result['sku'],
                $result['piece'],
                $result['cod'],
                $result['wt'],
                $result['deducted_shelve'],
            );

            fputcsv($csv_file, $row, ',', '"');
        }

        fclose($csv_file);
    }

    public function Getdownload() {
        ini_set('display_errors', '1');
        ini_set('display_startup_errors', '1');
        error_reporting(E_ALL);
        ini_set('mysql.allow_local_infile', 1);
        mysqli_options($this->db, MYSQLI_OPT_LOCAL_INFILE, 1);
        $ENCLOSED = "FIELDS ENCLOSED BY &apos;&quot;&apos";
        $sql = "SELECT *
FROM ( SELECT
`shipment_fm`.`id`,
 `shipment_fm`.`service_id`,
 `shipment_fm`.`booking_id`,
 `shipment_fm`.`slip_no`,
 `diamention_fm`.`sku`,
 `status_main_cat_fm`.`main_status`,
 `diamention_fm`.`piece`,
 `diamention_fm`.`wieght` as `wt`,
 `diamention_fm`.`description`,
 `diamention_fm`.`cod`,
 `customer`.`name`,
 `customer`.`company`,
 `customer`.`seller_id`,
 `customer`.`uniqueid`,
 `shipment_fm`.`entrydate`,
 `shipment_fm`.`origin`,
 `shipment_fm`.`destination`,
 `shipment_fm`.`reciever_name`,
 `shipment_fm`.`reciever_address`,
 `shipment_fm`.`reciever_phone`,
 `shipment_fm`.`sender_name`,
 `shipment_fm`.`sender_address`,
 `shipment_fm`.`sender_phone`,
 `shipment_fm`.`order_type`,
 `shipment_fm`.`sender_email`,
 `shipment_fm`.`mode`,
 `shipment_fm`.`total_cod_amt`,
 `shipment_fm`.`weight`,
 `shipment_fm`.`pieces`,
 `shipment_fm`.`cust_id`,
 `shipment_fm`.`shippers_ac_no`,
 `shipment_fm`.`frwd_company_awb`,
 `diamention_fm`.`deducted_shelve`
 FROM `shipment_fm` JOIN `status_main_cat_fm` ON `status_main_cat_fm`.`id` = `shipment_fm`.`delivered` JOIN `diamention_fm` ON `diamention_fm`.`slip_no` = `shipment_fm`.`slip_no` JOIN `customer` ON `customer`.`id` = `shipment_fm`.`cust_id` WHERE `shipment_fm`.`fulfillment` = 'Y' AND `shipment_fm`.`deleted` = 'N' AND `shipment_fm`.`backorder` = '0' AND `shipment_fm`.`super_id` = '6' AND `diamention_fm`.`super_id` = '6' AND `shipment_fm`.`delivered` IN(11)

     ) subquery

INTO OUTFILE '/var/www/html/diggipack_new/demofulfillment/assets/shipment_report1.csv' 
FIELDS ENCLOSED BY '&quot;' 
TERMINATED BY ',' 
LINES TERMINATED BY '\r\n'";
        echo $sql;
        $this->db->query($sql);
    }

    public function GetUpdate() {

        die("stop");
        $this->db->where_in("slip_no", array('DGF15911611279', 'DGF19793162738', 'DGF16352798696', 'DGF19857273459', 'DGF13373771788', 'DGF15303871395', 'DGF16918017894', 'DGF15869753995', 'DGF15695913739', 'DGF16034356511', 'DGF18761643652', 'DGF14261296537', 'DGF17145865875', 'DGF11641833745', 'DGF13689560480', 'DGF11887144445', 'DGF17430878759', 'DGF11398910115', 'DGF18062668105', 'DGF18848284225', 'DGF15293195629', 'DGF11632100989', 'DGF18810996307', 'DGF17633646083', 'DGF11469999097', 'DGF15704937733', 'DGF17699778129', 'DGF12562204319', 'DGF12213345741', 'DGF16296764592', 'DGF12180636244', 'DGF12500755547', 'DGF16835974694', 'DGF14669520245', 'DGF15250576362', 'DGF19208246130', 'DGF13758712166', 'DGF16887710843', 'DGF15454727203', 'DGF15033655764', 'DGF19016079877', 'DGF14400179308', 'DGF17050989118', 'DGF11050255142', 'DGF17586084607', 'DGF18336855958', 'DGF18406543951', 'DGF11863160337', 'DGF17487350046', 'DGF12978220087', 'DGF16526738965', 'DGF18599197084', 'DGF16881486848', 'DGF17324518250', 'DGF12241958549', 'DGF14032419413', 'DGF19112334548', 'DGF16899032125', 'DGF11672573109', 'DGF16747678515', 'DGF16227791340', 'DGF19512437659', 'DGF16804917878', 'DGF16126112107', 'DGF19950633557', 'DGF15663096270', 'DGF12246779468', 'DGF11756723008', 'DGF13478165605', 'DGF17861290379', 'DGF12657604312', 'DGF11621134539', 'DGF11330338913', 'DGF13876295779', 'DGF11488195807', 'DGF11552378022', 'DGF13820383536', 'DGF19848318372', 'DGF13995584632', 'DGF18920529337', 'DGF12295517515', 'DGF12991471013', 'DGF11542208937', 'DGF18083218675', 'DGF17458144562', 'DGF12909026693', 'DGF13209941497', 'DGF18133902346', 'DGF19246864672', 'DGF14277219420', 'DGF18191547594', 'DGF15437326468', 'DGF16217025535', 'DGF15625328705', 'DGF11338024619', 'DGF13152667798', 'DGF19388840034', 'DGF17715801038', 'DGF18387990931', 'DGF18066105092', 'DGF16645923170', 'DGF17252383511', 'DGF13577179673', 'DGF13444636437', 'DGF11599559570', 'DGF14266451789', 'DGF19877004937', 'DGF17770252773', 'DGF11511423284', 'DGF16990519605', 'DGF16974792510', 'DGF11630002420', 'DGF15610233962', 'DGF13663902129', 'DGF17533883066', 'DGF15415083194', 'DGF15504938935', 'DGF11043379789', 'DGF17153968187', 'DGF17416575402', 'DGF16903599239', 'DGF13211797410', 'DGF15458436648', 'DGF17635620017', 'DGF15646740348', 'DGF12349926711', 'DGF12032843296', 'DGF14071627743', 'DGF12630361521', 'DGF15135968308', 'DGF13386944933', 'DGF16751186388', 'DGF12485922219', 'DGF14390602740', 'DGF18518230489', 'DGF12970029702', 'DGF13693029796', 'DGF19807925055', 'DGF13194607065', 'DGF13920130711', 'DGF11228349541', 'DGF16472579956', 'DGF15254204955', 'DGF14355928123', 'DGF17943171574', 'DGF19471904154', 'DGF17381200149', 'DGF16733586055', 'DGF19695204785', 'DGF15791469522', 'DGF12948948914', 'DGF14027280493', 'DGF14410885907', 'DGF13793834767', 'DGF19639928028', 'DGF19369841914', 'DGF11732394346', 'DGF15800465856', 'DGF11935692533', 'DGF12828610714', 'DGF12578305091', 'DGF16301340227', 'DGF17484083380', 'DGF19327808124', 'DGF12789697377', 'DGF15197002951', 'DGF16348266697', 'DGF12709420143', 'DGF13954270877', 'DGF16712402345', 'DGF16571962334', 'DGF17629025232', 'DGF13747079350', 'DGF19833412851', 'DGF13070187226', 'DGF18487562329', 'DGF18087561389', 'DGF19101754323', 'DGF15234241659', 'DGF16619991473', 'DGF11995129530', 'DGF15348819883', 'DGF16048220497', 'DGF11033843400', 'DGF11048827155', 'DGF14068158188', 'DGF19547985025', 'DGF15908549383', 'DGF17566549618', 'DGF14578469735', 'DGF11176549036', 'DGF15367453344', 'DGF14161588694', 'DGF15765629560', 'DGF13084529169', 'DGF19100406378', 'DGF16996179694', 'DGF13532290780', 'DGF12045415773', 'DGF13426460984', 'DGF17192164897', 'DGF18086217330', 'DGF15499881165', 'DGF18802367561', 'DGF13107011609', 'DGF15706856192', 'DGF17491018076', 'DGF11803974160', 'DGF16817580134', 'DGF18096670343', 'DGF17787550704', 'DGF19742094073', 'DGF19133730395', 'DGF18007510995', 'DGF13215200752', 'DGF15093628909', 'DGF14107094765', 'DGF14951954608', 'DGF17613291209', 'DGF17798344969', 'DGF12420723136', 'DGF15744821280', 'DGF13363596731', 'DGF18895317058', 'DGF19353006082', 'DGF12699216609', 'DGF15971494601', 'DGF15779801753', 'DGF13569896080', 'DGF18635826169', 'DGF15701645971', 'DGF17062984259', 'DGF13686379464', 'DGF11795905321', 'DGF17756409917', 'DGF11716976459', 'DGF17807465519', 'DGF14889663632', 'DGF12612777030', 'DGF12709355703', 'DGF15996598141', 'DGF14513464547', 'DGF12777670913', 'DGF12222901802', 'DG5613419559', 'DGF15964687737', 'DGF18843210949', 'DGF12696528763', 'DGF16635180609', 'DGF12878189763', 'DGF12337529319', 'DGF19242008310', 'DGF19863120994', 'DGF14462053562', 'DGF17291594394', 'DGF16187257759', 'DGF16515287060', 'DGF11103666565', 'DGF18703175008', 'DGF11977052158', 'DGF12757775359', 'DGF16664840803', 'DGF16107520572', 'DGF13354089738', 'DGF13441302564', 'DGF11782024948', 'DGF14086842544', 'DGF12864958971', 'DGF11238808836', 'DGF13440310604', 'DGF18285667059', 'DGF15901622381', 'DGF15719603122', 'DGF11911250057', 'DGF17065773941', 'DGF17676850674', 'DGF18717789208', 'DGF16257204242', 'DGF13682437182', 'DGF13544203083', 'DG1178036606', 'DG8709684314', 'DG8707973949', 'DG3977753005', 'DG1058496313', 'DGF18028908955', 'DG9254938724', 'DG4724543521', 'DGF17889150380', 'DG2785955188', 'DGF12610491666', 'DG1342913989', 'DGF12759495510', 'DGF16647064568', 'DGF18477878801', 'DGF16800277304', 'DGF15355020152', 'DGF13490720329', 'DGF11574332393', 'DGF16145118776', 'DGF12949331494', 'DGF18980703367', 'DGF19512173398', 'DGF12528583742', 'DGF16408202598', 'DGF17865906507', 'DGF13309247197', 'DGF17084123590', 'DGF11786412493', 'DGF16578756537', 'DGF18335650074', 'DGF15431056847', 'DGF18050360760', 'DGF15805518300', 'DGF11903178628', 'DGF19593494434', 'DGF12345717056', 'DGF15270099667', 'DGF18628896187', 'DGF14260552940', 'DGF11841605267', 'DGF14100863595', 'DGF19701314065', 'DGF18216479943', 'DGF15243316503', 'DGF17637502751', 'DGF13120276348', 'DGF14445865387', 'DGF12229121861', 'DGF19936137831', 'DGF17206682002', 'DGF13423913900', 'DGF19722421168', 'DGF13718654858', 'DGF17287243620', 'DGF12171814940', 'DGF11610290866', 'DG6986289832', 'DGF19479128860', 'DGF12840168524', 'DGF14703637533', 'DGF17479699351', 'DGF18782235038', 'DGF15689189600', 'DGF18922786248', 'DGF12398272121', 'DGF13466039321', 'DGF11576525099', 'DGF19336430667', 'DGF16418979559', 'DGF13620403501', 'DGF11996838299', 'DGF16553142212', 'DGF11124762529', 'DGF14673890595', 'DGF15816360027', 'DGF15256199844', 'DGF18589839699', 'DGF19955962809', 'DGF14271854483', 'DGF15897681969', 'DGF19519460394', 'DGF12150952245', 'DGF12843249130', 'DGF19883143047', 'DGF15739645715', 'DGF13267729062', 'DGF17296382334', 'DGF19472729935', 'DGF14238262384', 'DGF19278787653', 'DGF17729988017', 'DGF11231233729', 'DGF18629503016', 'DGF18369359549', 'DGF14840191883', 'DGF12381948390', 'DGF11091266696', 'DGF16861668484', 'DGF19036049455', 'DGF16714758418', 'DGF15601592744', 'DGF14702599233', 'DGF16584920630', 'DGF13944509371', 'DGF11351484024', 'DGF16765666687', 'DGF19598381432', 'DGF17020662303', 'DGF18824611342', 'DGF11231158879', 'DGF14650614657', 'DGF16343760075', 'DGF17856012534', 'DGF19320598644', 'DGF14634094400', 'DGF11183471654', 'DGF16734983825', 'DGF14353220684', 'DGF17295175286', 'DGF12980044287', 'DGF12000548137', 'DGF14588799555', 'DGF14679506897', 'DGF12833240630', 'DGF18478681975', 'DGF19089255660', 'DGF17737174376', 'DGF11399951373', 'DGF19294520867', 'DGF11034176765', 'DGF14190552130', 'DGF18359423214', 'DGF18213747082', 'DGF12583429234', 'DGF18329199563', 'DGF11231433813', 'DGF17460125285', 'DGF18728194687', 'DGF14484261917', 'DGF19533613066', 'DGF16848651141', 'DGF13489386358', 'DGF16467604064', 'DGF15320106341', 'DGF13464667522', 'DGF14792830140', 'DGF13916062223', 'DGF12307815573', 'DGF16207840692', 'DG5662384273', 'DG5491057163', 'DGF19676503301', 'DGF13453291569', 'DGF14406598257', 'DGF16280824022', 'DGF14153236668', 'DGF18452195983', 'DGF15488070628', 'DGF19510746698', 'DGF17035262820', 'DGF12902880352', 'DGF11254326576', 'DGF15443544386', 'DGF14183968325', 'DGF11660554612', 'DGF12446674745', 'DGF12241566884', 'DGF16131484630', 'DGF14508129298', 'DGF18857433530', 'DGF15593933277', 'DGF16577576750', 'DGF13687065724', 'DGF16136890585', 'DGF19858928881', 'DGF16638837315', 'DGF15127800684', 'DGF11225535925', 'DGF16342154777', 'DGF13894933226', 'DGF13328899990', 'DGF18569381938', 'DGF13414716840', 'DGF15064340067', 'DGF13912283669', 'DGF12926894010', 'DGF16909009980', 'DGF17370413180', 'DGF15099155295', 'DGF13720358723', 'DGF18629912514', 'DGF13415784183', 'DGF15316882262', 'DGF15558528830', 'DGF12255972743', 'DGF16430243609', 'DGF14979499382', 'DGF12249691924', 'DGF16262837803', 'DGF19642031169', 'DGF11508403917', 'DGF12477637328', 'DGF11135003186', 'DGF11185140847', 'DGF11788192734', 'DGF11808053066', 'DGF18295561703', 'DGF15698994096', 'DGF19015775266', 'DGF19804139096', 'DGF17753338268', 'DGF16139233616', 'DGF16947630244', 'DGF17969220614', 'DGF13874155682', 'DGF18022087494', 'DGF19437530552', 'DGF13992400582', 'DGF16081455120', 'DGF16692866790', 'DGF16611485488', 'DGF15079937611', 'DGF11137643381', 'DGF18851086664', 'DGF11203957893', 'DGF16958788460', 'DGF16011306306', 'DGF19469784781', 'DGF11823492595', 'DGF13066432691', 'DGF16811827755', 'DGF16934576461', 'DGF12505391129', 'DGF15285706578', 'DGF19914852876', 'DGF18584283650', 'DGF17462924086', 'DGF14814501916', 'DGF17421840343', 'DGF16297665261', 'DGF14560394102', 'DGF13609679476', 'DGF15734476545', 'DGF14490222351', 'DGF19245612080', 'DGF13314451311', 'DGF12084348347', 'DGF16433637990', 'DGF14227910096', 'DGF12668209967', 'DGF18030906157', 'DGF11550525273', 'DGF17853899959', 'DGF14717533648', 'DGF11966647111', 'DGF13029665845', 'DGF14217837848', 'DGF17630371927', 'DGF15610703122', 'DGF11910520957', 'DGF12421728169', 'DGF16962459210', 'DGF17766560842', 'DGF17910506756', 'DGF18271474619', 'DGF17831019413', 'DGF16754757263', 'DGF16762080544', 'DGF12609651146', 'DGF15738507234', 'DGF14196901556', 'DGF13316034816', 'DGF12238494891', 'DGF17134199997', 'DGF14382645104', 'DGF12613711269', 'DGF13485444294', 'DGF11380885980', 'DGF17420483929', 'DGF14164377391', 'DGF17140213945', 'DGF19883570633', 'DGF11953695897', 'DGF14264582846', 'DGF13355761458', 'DGF15772641395', 'DGF15504811769', 'DGF12563057844', 'DGF12568421050', 'DGF12863459654', 'DGF12584857200', 'DGF18019762019', 'DGF19405674077', 'DGF15598901813', 'DGF11445349726', 'DGF11476202133', 'DGF17735078456', 'DGF14594185016', 'DGF19180692928', 'DGF15059947736', 'DGF14322745379', 'DGF13307063866', 'DGF13887060490', 'DGF12987624939', 'DGF15733885470', 'DGF16003449823', 'DGF11079941772', 'DGF12547573183', 'DGF11840614195', 'DGF15080575608', 'DGF18861981202', 'DGF14002576053', 'DGF19882660740', 'DGF14312703704', 'DGF16614591734', 'DGF17267303215', 'DGF14147329279', 'DGF13134629179', 'DGF13481458230', 'DGF14221531074', 'DGF13869531382', 'DGF15359697015', 'DGF12796243873', 'DGF15576070620', 'DGF19171937033', 'DGF17725111116', 'DGF15111692397', 'DGF18569981491', 'DGF19332718012', 'DGF12355776169', 'DGF15523100843', 'DGF15801681697', 'DGF18425576006', 'DGF11794100886', 'DGF15349258038', 'DGF15225259821', 'DGF12834589966', 'DGF16785870653', 'DGF19139302734', 'DGF19733437592', 'DGF17931439504', 'DGF15824531411', 'DGF14906814858', 'DGF17033450640', 'DGF12092866767', 'DGF18966711947', 'DGF14157564077', 'DGF13583610039', 'DGF17567110493', 'DGF14262303991', 'DGF19289384897', 'DGF18957069464', 'DGF14171184058', 'DGF11540823287', 'DGF13217805214', 'DGF18862134210', 'DGF19466226823', 'DG4910238509', 'DGF18081723746', 'DGF19254159383', 'DGF11070248152', 'DGF11242789494', 'DGF19731840537', 'DGF14097791045', 'DGF14904124116', 'DGF17466195074', 'DGF13714708679', 'DGF14318583660', 'DGF19854293320', 'DGF16418715478', 'DGF15080071416', 'DGF13959590150', 'DGF11276817486', 'DGF16659248871', 'DGF11340140669', 'DGF19016385695', 'DGF19547238214', 'DGF17899038444', 'DGF19231647767', 'DGF18269013617', 'DGF18151981432', 'DGF16701103347', 'DGF13678001764', 'DGF14351119035', 'DGF11204833332', 'DGF13934733369', 'DGF17019612654', 'DGF17499776436', 'DGF15422842653', 'DGF15388097405', 'DGF13783290295', 'DGF11680296157', 'DGF18762577405', 'DGF15669414289', 'DGF19386089647', 'DGF12716301417', 'DGF13397279003', 'DGF14477356012', 'DGF12087042471', 'DGF13369389506', 'DGF12692096828', 'DGF17424967430', 'DGF15217867222', 'DGF14748434963', 'DGF11782641114', 'DGF15027524686', 'DGF14312022625', 'DGF12597085894', 'DGF15180305634', 'DGF18028964493', 'DGF18211078305', 'DGF17048661435', 'DGF19503561902', 'DGF15965732130', 'DGF17740579620', 'DGF18951948021', 'DGF17877363890', 'DGF14604270641', 'DGF16852551995', 'DGF16319329186', 'DGF12054051594', 'DGF19267997080', 'DGF18388605136', 'DGF17525803682', 'DGF14871983310', 'DGF13422517642', 'DGF18060303419', 'DGF17746425000', 'DGF19494078571', 'DGF13705995686', 'DGF13829891908', 'DGF17860208661', 'DGF16508339594', 'DGF17014165129', 'DGF13785929915', 'DGF14467714163', 'DGF15109341822', 'DGF16994595175', 'DGF17242688604', 'DGF18929264499', 'DGF13448451599', 'DGF19865219910', 'DGF14369571276', 'DGF13686954823', 'DGF16832682815', 'DGF11550294972', 'DGF11238932059', 'DGF17276891253', 'DGF19367175610', 'DGF11378859986', 'DGF12943885670', 'DGF16798495748', 'DGF14414764285', 'DGF16508979213', 'DGF13403445787', 'DGF11831125102', 'DGF19372790081', 'DGF11781682342', 'DGF15192881426', 'DGF12492706762', 'DGF13614399527', 'DGF11534936840', 'DGF17429678160', 'DGF19981378830', 'DGF13217526390', 'DGF18598163520', 'DGF17873693220', 'DGF19227282455', 'DGF13384223887', 'DGF17051746381', 'DGF12894034444', 'DGF18985642672', 'DGF18305845187', 'DGF11452620591', 'DGF12812567437', 'DGF16103342202', 'DGF11592209626', 'DGF18564791622', 'DGF12367475994', 'DGF12290662691', 'DGF14910677314', 'DGF12272849898', 'DGF17323667633', 'DGF18024088317', 'DGF12309593413', 'DGF11965482466', 'DGF18681181422', 'DGF19694002468', 'DGF15969882895', 'DGF11677630490', 'DGF11228951655', 'DGF11534585777', 'DGF12299924682', 'DGF16233004741', 'DGF13031066445', 'DGF14012700227', 'DGF17341967193', 'DGF15610961025', 'DGF12011090975', 'DGF19516111258', 'DGF16023159650', 'DGF15262450418', 'DGF14630181082', 'DGF16946234066', 'DGF13774890278', 'DGF15300885526', 'DGF16650878635', 'DGF12288636115', 'DGF13892204988', 'DGF19130821715', 'DGF12015602019', 'DGF17029821116', 'DGF15593456057', 'DGF15251335562', 'DGF15728440845', 'DGF13959815678', 'DGF13888808398', 'DGF18680477577', 'DGF15589043048', 'DGF16283771305', 'DGF14216956587', 'DGF11278563746', 'DGF18844412235', 'DGF11595074456', 'DGF11044525126', 'DGF11960636373', 'DGF14058948811', 'DGF17858030741', 'DGF11151729010', 'DGF13934849693', 'DGF17033114739', 'DGF17683948230', 'DGF13396516723', 'DGF17010286953', 'DGF11154771913', 'DGF14691100390', 'DGF18922678025', 'DGF18160477350', 'DGF17190292435', 'DGF15398832918', 'DGF15471867097', 'DGF14429929624', 'DGF18153634729', 'DGF15544416685', 'DGF15125193975', 'DGF15027262052', 'DG8014537909', 'DGF17359696351', 'DGF16088786168', 'DGF15791758689', 'DGF18913601673', 'DGF13429273863', 'DGF16211018112', 'DGF12116599895', 'DGF12348206996', 'DGF12859013687', 'DGF12823223170', 'DGF11687932435', 'DGF17436241366', 'DGF13650911415', 'DGF15725987622', 'DGF17935743167', 'DGF16240346395', 'DGF11343305378', 'DGF17517564842', 'DGF18012019982', 'DGF17517318975', 'DGF17735526385', 'DGF17914358698', 'DGF11062536046', 'DGF16888423644', 'DGF18451199387', 'DGF11650049448', 'DGF16155989556', 'DGF12780772372', 'DGF18309807678', 'DGF18570884842', 'DGF18311864630', 'DGF11029287890', 'DGF16200115339', 'DGF15170802307', 'DGF14711888360', 'DGF15525980044', 'DGF16354219458', 'DGF16580234899', 'DGF13579021865', 'DGF13200424483', 'DGF14948897716', 'DGF14047059308', 'DGF11791463641', 'DGF13952713088', 'DGF14671398927', 'DGF14609349308', 'DGF18316484312', 'DGF16288271842', 'DGF16205903353', 'DGF15874535381', 'DGF12653280104', 'DGF13164146977', 'DGF14008480018', 'DGF13202910727', 'DGF13415094784', 'DGF13679693588', 'DGF15896531733', 'DGF14802054592', 'DGF12370386438', 'DGF12389473168', 'DGF18031023139', 'DGF11639326952', 'DGF14402025472', 'DGF12358883990', 'DGF19161161577', 'DGF13860471241', 'DGF13228812313', 'DGF14738237447', 'DGF13367948678', 'DGF11925707591', 'DGF11228120078', 'DGF18819247729', 'DGF19191490257', 'DGF15185240244', 'DGF16776717694', 'DGF14343151098', 'DGF15303212367', 'DGF14272551362', 'DGF16260983647', 'DGF13455508264', 'DGF14064965660', 'DGF18984934330', 'DGF14699321419', 'DGF14899047834', 'DGF19942519431', 'DGF16331728816', 'DGF18187278691', 'DGF14338580152', 'DGF14367501867', 'DGF17361166780', 'DGF15241758881', 'DGF15969626320', 'DGF18489064706', 'DGF13179982337', 'DGF18776727541', 'DGF13022229806', 'DGF14331513181', 'DGF15987802071', 'DGF11005393997', 'DGF18179691376', 'DGF16811214263', 'DGF19330559718', 'DGF17978002191', 'DGF17933807768', 'DGF17500426326', 'DGF16931972887', 'DGF13564323015', 'DGF16808543290', 'DGF11391740436', 'DGF16320239394', 'DGF11305202067', 'DGF11521110824', 'DGF18245267053', 'DGF13353741340', 'DGF11753154178', 'DGF15403013287', 'DGF15290341243', 'DGF12872361487', 'DGF11436694812', 'DGF13569601733', 'DGF12305165140', 'DGF16061343473', 'DGF17546329848', 'DGF16338184143', 'DGF15538354805', 'DGF15977755995', 'DGF17243203370', 'DGF14810271095', 'DGF12312182947', 'DGF15317438762', 'DGF17908285405', 'DGF17662676607', 'DGF17292599518', 'DGF14330506427', 'DGF17370143526', 'DGF14234829613', 'DGF15656637511', 'DGF11325514675', 'DGF12615245278', 'DGF14281636817', 'DGF13581339390', 'DGF14278444280', 'DGF19835914178', 'DGF17627258393', 'DGF17481968022', 'DGF19925587961', 'DGF16700194522', 'DGF18013237206', 'DGF13306200220', 'DGF15213668110', 'DGF12281799349', 'DGF13880516734', 'DGF15239157071', 'DGF18515066799', 'DGF12063987514', 'DGF18687295656', 'DGF14826571756', 'DGF15941884572', 'DGF13081707993', 'DGF18158846584', 'DGF17627822734', 'DGF13943208906', 'DGF14760137747', 'DGF14332379526', 'DGF12626578492', 'DGF19791610992', 'DGF12266340319', 'DGF11185722983', 'DGF19604829290', 'DGF12872753085', 'DGF19023560424', 'DGF17313725799', 'DGF17816727342', 'DGF13876825499', 'DGF19271135218', 'DGF17280439833', 'DGF12193437933', 'DGF19450111340', 'DGF16291097319', 'DGF14899536885', 'DGF14312141962', 'DGF17353289593', 'DGF13468734669', 'DGF17108412167', 'DGF19925934477', 'DGF15491061014', 'DGF14013562578', 'DGF19600674167', 'DGF16130599120', 'DGF12221183646', 'DGF15246834199', 'DGF13579315235', 'DGF14761030444', 'DGF17890837590', 'DGF11272809532', 'DGF15191325297', 'DGF13347963308', 'DGF11346344036', 'DGF16603977935', 'DGF15242117995', 'DGF19389922125', 'DGF19860108081', 'DGF15677822008', 'DGF16395363287', 'DGF15324745762', 'DGF12662852887', 'DGF15243403197', 'DGF13474221253', 'DGF13800228830', 'DGF14727717492', 'DGF17167628221', 'DGF17010173307', 'DGF18262809215', 'DGF19921804366', 'DGF13443114518', 'DGF18220841743', 'DGF12662251633', 'DGF13047918483', 'DGF15669981199', 'DGF15012053571', 'DGF11685256551', 'DGF16724874156', 'DGF15391522993', 'DGF19901012263', 'DGF19287531671', 'DGF16546437372', 'DGF11245724342', 'DGF14598857491'));
        $query = $this->db->select('id,code,slip_no,super_id')->get('shipment_fm');
        // echo $this->db->last_query();
        $result_array = $query->result_array();
        die("stop");
        foreach ($result_array as $val) {
            die("stop");
            $slip_no = $val['slip_no'];
            $code = $val['code'];
            $super_id = $val['super_id'];
            $this->db->where("code", $code);
            $this->db->where("slip_no", $slip_no);
            $query2 = $this->db->select('entry_date')->get('status_fm');
            $status_array = $query2->row_array();
            die("stop");
            $sql = "update shipment_fm set close_date='" . $status_array['entry_date'] . "' where slip_no='$slip_no' and super_id='$super_id'";
            //echo $sql."<br>";
            //$this->db->query($sql);
        }
    }

}
